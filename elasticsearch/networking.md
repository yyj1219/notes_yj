이 내용은 Elasticsearch 8.x 이상, OpenSearch 2.12 이상을 기준으로 합니다.
실제 테스트는 OpenSearch 2.13 에서만 한 것으로, 버전에 따라 글의 내용이 실제 환경에 맞지 않을 수 있습니다.

# Networking

Elasticsearch/OpenSearch 노드에는 두 가지 네트워크 인터페이스가 있습니다.

하나는 **HTTP 인터페이스**이고, 다른 하나는 **transport 인터페이스** 입니다.

클라이언트는 HTTP 인터페이스를 사용해서 Elasticsearch/OpenSearch에 REST API 요청을 보냅니다.

노드는 transport 인터페이스를 사용해서 다른 노드와 통신합니다. transport 인터페이스는 remote 클러스터와의 통신에도 사용됩니다.

## 일반적으로 사용되는 네트워크 설정

대부분의 사용자는 다음 네트워크 설정만 구성하면 됩니다.

**`network.host`**
- (Static , 문자열) HTTP와 transport 트래픽 모두에 대한 노드의 주소를 설정합니다.
- 노드는 이 주소에 바인딩하고 publish 주소로도 사용합니다.
- IP 주소, 호스트 이름, 특수 값도 허용합니다.
- 기본값은 \_local\_ 입니다.

**`http.port`**
- (Static, 정수) HTTP 클라이언트 통신을 위해 바인딩할 포트입니다.
- 단일 값 또는 범위를 허용합니다.
- 범위로 지정되면 노드는 범위에서 사용 가능한 첫 번째 포트에 바인딩합니다.
- 기본값은 9200-9300 사이입니다.

**`transport.port`**
- (Static, 정수) 노드 간 통신을 위해 바인딩할 포트입니다.
- 단일 값 또는 범위를 허용합니다.
- 범위가 지정되면 노드는 범위에서 사용 가능한 첫 번째 포트에 바인딩됩니다.
- 모든 마스터 적격(master-eligible) 노드에서 이 설정을 범위가 아닌 단일 포트로 설정합니다.
- 기본값은 9300-9400 사이입니다.

**`remote_cluster.port`**
- (Static, 정수) 원격 클러스터 클라이언트 통신을 위해 바인딩할 포트입니다.
- 단일 값을 허용합니다.
- 기본값은 9443입니다.

## 특별한 네트워크 주소값

**`_local_`**
- 시스템의 루프백 주소를 의미합니다.
- 일반적으로 127.0.0.1에 해당합니다.
- 기본 설정값으로, Elasticsearch/OpenSearch를 로컬에서만 접근 가능하게 합니다.

**`_site_`**
- 시스템의 로컬 네트워크 주소를 의미합니다.
- 예를 들어, 192.168.x.x와 같은 사설 IP 주소를 자동으로 감지합니다.
- 클러스터 구성 시 주로 사용되며, 같은 네트워크 내의 다른 노드들과 통신할 수 있게 합니다.

**`_global_`**
- 시스템의 공인 IP 주소를 의미합니다.
- 외부 네트워크에서 노드에 접근할 수 있게 합니다.

**`_[networkInterface]_`**
- 네트워크 인터페이스의 주소를 의미합니다.
- 예를 들어, `en0`라고 불리는 인터페이스의 주소를 사용하고 싶다면 `network.host: _en0_`로 설정합니다

**`0.0.0.0`**
- 모든 네트워크 인터페이스에 바인딩합니다.
- 시스템의 모든 IP 주소로 Elasticsearch/OpenSearch에 접근할 수 있게 합니다.

